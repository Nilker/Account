var gulp=require("gulp"),shell=require("gulp-shell"),del=require("del"),path=require("path"),fs=require("fs"),xml2js=require("xml2js"),packagesConfig=path.join(__dirname,"packages.config"),packageName="",xmlParser=new xml2js.Parser;fs.readFile(packagesConfig,function(e,a){xmlParser.parseString(a,function(e,a){var r=a.packages.package.find(function(e){return"Abp.Web.Resources"===e.$.id});packageName=r.$.id+"."+r.$.version})}),gulp.task("clean",function(){return del(["Abp","packages"])}),gulp.task("nuget-install",["clean"],shell.task([".nuget\\NuGet.exe install .\\packages.config -OutputDirectory .\\packages"])),gulp.task("copy-resources",function(){var e="./packages/"+packageName+"/content/**";return gulp.src(e).pipe(gulp.dest("./"))}),gulp.task("default",["nuget-install"],function(){gulp.start("copy-resources")});
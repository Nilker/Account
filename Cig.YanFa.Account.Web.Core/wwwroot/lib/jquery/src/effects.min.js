define(["./core","./var/document","./var/rcssNum","./css/var/cssExpand","./var/rnotwhite","./css/var/isHidden","./css/adjustCSS","./css/defaultDisplay","./data/var/dataPriv","./core/init","./effects/Tween","./queue","./css","./deferred","./traversing"],function(w,e,i,s,r,v,o,g,m){var c,t,x=/^(?:toggle|show|hide)$/,u=/queueHooks$/;function d(){return window.setTimeout(function(){c=void 0}),c=w.now()}function f(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=s[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function y(e,t,n){for(var i,o=(p.tweeners[t]||[]).concat(p.tweeners["*"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,t,e))return i}function p(s,e,t){var n,r,i=0,o=p.prefilters.length,u=w.Deferred().always(function(){delete f.elem}),f=function(){if(r)return!1;for(var e=c||d(),t=Math.max(0,a.startTime+a.duration-e),n=1-(t/a.duration||0),i=0,o=a.tweens.length;i<o;i++)a.tweens[i].run(n);return u.notifyWith(s,[a,n,t]),n<1&&o?t:(u.resolveWith(s,[a]),!1)},a=u.promise({elem:s,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},t),originalProperties:e,originalOptions:t,startTime:c||d(),duration:t.duration,tweens:[],createTween:function(e,t){var n=w.Tween(s,a.opts,e,t,a.opts.specialEasing[e]||a.opts.easing);return a.tweens.push(n),n},stop:function(e){var t=0,n=e?a.tweens.length:0;if(r)return this;for(r=!0;t<n;t++)a.tweens[t].run(1);return e?(u.notifyWith(s,[a,1,0]),u.resolveWith(s,[a,e])):u.rejectWith(s,[a,e]),this}}),l=a.props;for(!function(e,t){var n,i,o,s,r;for(n in e)if(o=t[i=w.camelCase(n)],s=e[n],w.isArray(s)&&(o=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),(r=w.cssHooks[i])&&"expand"in r)for(n in s=r.expand(s),delete e[i],s)n in e||(e[n]=s[n],t[n]=o);else t[i]=o}(l,a.opts.specialEasing);i<o;i++)if(n=p.prefilters[i].call(a,s,l,a.opts))return w.isFunction(n.stop)&&(w._queueHooks(a.elem,a.opts.queue).stop=w.proxy(n.stop,n)),n;return w.map(l,y,a),w.isFunction(a.opts.start)&&a.opts.start.call(s,a),w.fx.timer(w.extend(f,{elem:s,anim:a,queue:a.opts.queue})),a.progress(a.opts.progress).done(a.opts.done,a.opts.complete).fail(a.opts.fail).always(a.opts.always)}return w.Animation=w.extend(p,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return o(n.elem,e,i.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,o=(e=w.isFunction(e)?(t=e,["*"]):e.match(r)).length;i<o;i++)n=e[i],p.tweeners[n]=p.tweeners[n]||[],p.tweeners[n].unshift(t)},prefilters:[function(t,e,n){var i,o,s,r,u,f,a,l=this,c={},d=t.style,p=t.nodeType&&v(t),h=m.get(t,"fxshow");for(i in n.queue||(null==(u=w._queueHooks(t,"fx")).unqueued&&(u.unqueued=0,f=u.empty.fire,u.empty.fire=function(){u.unqueued||f()}),u.unqueued++,l.always(function(){l.always(function(){u.unqueued--,w.queue(t,"fx").length||u.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(a=w.css(t,"display"))?m.get(t,"olddisplay")||g(t.nodeName):a)&&"none"===w.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",l.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),e)if(o=e[i],x.exec(o)){if(delete e[i],s=s||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!h||void 0===h[i])continue;p=!0}c[i]=h&&h[i]||w.style(t,i)}else a=void 0;if(w.isEmptyObject(c))"inline"===("none"===a?g(t.nodeName):a)&&(d.display=a);else for(i in h?"hidden"in h&&(p=h.hidden):h=m.access(t,"fxshow",{}),s&&(h.hidden=!p),p?w(t).show():l.done(function(){w(t).hide()}),l.done(function(){var e;for(e in m.remove(t,"fxshow"),c)w.style(t,e,c[e])}),c)r=y(p?h[i]:0,i,l),i in h||(h[i]=r.start,p&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}],prefilter:function(e,t){t?p.prefilters.unshift(e):p.prefilters.push(e)}}),w.speed=function(e,t,n){var i=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||w.isFunction(e)&&e,duration:e,easing:n&&t||t&&!w.isFunction(t)&&t};return i.duration=w.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in w.fx.speeds?w.fx.speeds[i.duration]:w.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){w.isFunction(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(e,t,n,i){return this.filter(v).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){function o(){var e=p(this,w.extend({},t),r);(s||m.get(this,"finish"))&&e.stop(!0)}var s=w.isEmptyObject(t),r=w.speed(e,n,i);return o.finish=o,s||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(o,e,s){function r(e){var t=e.stop;delete e.stop,t(s)}return"string"!=typeof o&&(s=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=w.timers,i=m.get(this);if(t)i[t]&&i[t].stop&&r(i[t]);else for(t in i)i[t]&&i[t].stop&&u.test(t)&&r(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(s),e=!1,n.splice(t,1));!e&&s||w.dequeue(this,o)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var e,t=m.get(this),n=t[r+"queue"],i=t[r+"queueHooks"],o=w.timers,s=n?n.length:0;for(t.finish=!0,w.queue(this,r,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===r&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),w.each(["toggle","show","hide"],function(e,i){var o=w.fn[i];w.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(f(i,!0),e,t,n)}}),w.each({slideDown:f("show"),slideUp:f("hide"),slideToggle:f("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){w.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(c=w.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),c=void 0},w.fx.timer=function(e){w.timers.push(e),e()?w.fx.start():w.timers.pop()},w.fx.interval=13,w.fx.start=function(){t=t||window.setInterval(w.fx.tick,w.fx.interval)},w.fx.stop=function(){window.clearInterval(t),t=null},w.fx.speeds={slow:600,fast:200,_default:400},w});